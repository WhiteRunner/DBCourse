{"version":3,"sources":["webpack:///./src/views/Login.vue?394a","webpack:///./src/views/Login.vue?e752","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/assets/shopping.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","slot","_s","isRegisterBtnClick","staticStyle","on","$event","registerBtn","user","model","value","callback","$$v","$set","expression","login","_e","newUser","register","staticRenderFns","data","username","password","confirmPwd","methods","$axios","$message","post","then","res","code","message","type","component","module","exports"],"mappings":"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","file":"js/chunk-75954c3d.418884d6.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3c63ccf1&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"index\"},[_vm._m(0),_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"title-small hidden-md-and-up\"},[_vm._v(\"Second-hand Trade Platform\")]),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.isRegisterBtnClick == false ? \"Login\" : \"Register\"))]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.registerBtn()}}},[_vm._v(\" \"+_vm._s(_vm.isRegisterBtnClick == false ? \"Register\" : \"Login\")+\" \")])],1),(_vm.isRegisterBtnClick == false)?_c('el-form',{attrs:{\"model\":_vm.user,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"Username\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Password\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input password\",\"type\":\"password\",\"show-password\":\"\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('div',{staticClass:\"option\"},[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"Login\")])],1)],1):_vm._e(),(_vm.isRegisterBtnClick == true)?_c('el-form',{attrs:{\"model\":_vm.user,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"Username\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input username\"},model:{value:(_vm.newUser.username),callback:function ($$v) {_vm.$set(_vm.newUser, \"username\", $$v)},expression:\"newUser.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Password\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input password\",\"type\":\"password\",\"show-password\":\"\"},model:{value:(_vm.newUser.password),callback:function ($$v) {_vm.$set(_vm.newUser, \"password\", $$v)},expression:\"newUser.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Confirm\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input password again\",\"type\":\"password\",\"show-password\":\"\"},model:{value:(_vm.newUser.confirmPwd),callback:function ($$v) {_vm.$set(_vm.newUser, \"confirmPwd\", $$v)},expression:\"newUser.confirmPwd\"}})],1),_c('div',{staticClass:\"option\"},[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"Register\")])],1)],1):_vm._e()],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"picture hidden-sm-and-down\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Second-hand Trade Platform\")]),_c('img',{attrs:{\"src\":require(\"../assets/shopping.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div class=\"index\">\n      <div class=\"picture hidden-sm-and-down\">\n        <div class=\"title\">Second-hand Trade Platform</div>\n        <img src=\"../assets/shopping.png\" />\n      </div>\n      <div class=\"menu\">\n        <div class=\"title-small hidden-md-and-up\">Second-hand Trade Platform</div>\n        <el-card class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>{{ isRegisterBtnClick == false ? \"Login\" : \"Register\" }}</span>\n            <el-button @click=\"registerBtn()\" style=\"float: right; padding: 3px 0\" type=\"text\">\n                {{isRegisterBtnClick == false ? \"Register\" : \"Login\"}}\n            </el-button>\n          </div>\n          <!-- 登录面板 -->\n          <el-form\n            :model=\"user\"\n            label-width=\"80px\"\n            v-if=\"isRegisterBtnClick == false\"\n          >\n            <el-form-item label=\"Username\">\n              <el-input\n                v-model=\"user.username\"\n                placeholder=\"Please input username\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"Password\">\n              <el-input\n                v-model=\"user.password\"\n                placeholder=\"Please input password\"\n                type=\"password\"\n                show-password\n              ></el-input>\n            </el-form-item>\n            <!-- 验证码功能，待开启 -->\n            <!-- <el-form-item label=\"验证码\">\n              <el-input\n                v-model=\"user.verification\"\n                placeholder=\"请输入验证码\"\n              ></el-input>\n            </el-form-item> -->\n            <div class=\"option\">\n              <el-button type=\"primary\" style=\"width: 120px\" @click=\"login()\">Login</el-button>\n              <!-- 待开启功能：忘记密码 -->\n              <!-- <router-link to=\"/lostPwd\">忘记密码</router-link> -->\n            </div>\n          </el-form>\n          <!-- 注册面板 -->\n          <el-form\n            :model=\"user\"\n            label-width=\"80px\"\n            v-if=\"isRegisterBtnClick == true\"\n          >\n            <el-form-item label=\"Username\">\n              <el-input\n                v-model=\"newUser.username\"\n                placeholder=\"Please input username\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"Password\">\n              <el-input\n                v-model=\"newUser.password\"\n                placeholder=\"Please input password\"\n                type=\"password\"\n                show-password\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"Confirm\">\n              <el-input\n                v-model=\"newUser.confirmPwd\"\n                placeholder=\"Please input password again\"\n                type=\"password\"\n                show-password\n              ></el-input>\n            </el-form-item>\n            <!-- 验证码功能，待开启 -->\n            <!-- <el-form-item label=\"验证码\">\n              <el-input\n                v-model=\"user.verification\"\n                placeholder=\"请输入验证码\"\n              ></el-input>\n            </el-form-item> -->\n            <div class=\"option\">\n              <el-button type=\"primary\" style=\"width: 120px\" @click=\"register()\">Register</el-button>\n            </div>\n          </el-form>\n        </el-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isRegisterBtnClick: false, //注册按钮是否被点击（是否切换到注册面板）\n      user: {\n        // username: \"xyy\",\n        // password: \"123456\",\n        username: \"\",\n        password: \"\",\n        // verification: \"\",//验证码功能，待开启\n      },\n      newUser: {\n        username: \"\",\n        password: \"\",\n        confirmPwd: \"\",\n      },\n    };\n  },\n  methods: {\n    //登录功能\n    login() {\n      this.$axios\n        .post(\"/User/login\", this.user)\n        .then((res) => {\n          if (res.data.data != null) {\n            console.log(res)\n            this.$store.commit(\"setToken\", res.data.data.tokenInfo.tokenValue);\n            this.$store.commit(\"setUserId\", res.data.data.id);\n            // this.$store.commit(\"setSuperuser\", res.data.data.superuser);\n            this.$router.push(\"/home\");\n            this.$message({\n              type: \"success\",\n              message: \"Welcome\",\n            });\n          } else {\n            this.$message.error(\"Error password or no such username\");\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"Server busy, please try again later\");\n        });\n    },\n    //点击注册按钮事件（切换到注册）\n    registerBtn() {\n      this.isRegisterBtnClick = !this.isRegisterBtnClick;\n    },\n    //注册功能\n    register() {\n      if(!this.newUser.username || !this.newUser.password || !this.newUser.confirmPwd){\n        this.$message({\n            message: \"please fill in the blank\",\n            type: \"error\",\n          });\n        return\n      }\n      if(this.newUser.password.length<6){\n        this.$message({\n            message: \"password length should greater than 6！\",\n            type: \"error\",\n          });\n        return\n      }\n      if(this.newUser.password!=this.newUser.confirmPwd){\n        this.$message({\n            message: \"different password！\",\n            type: \"error\",\n          });\n        return\n      }\n\n\n      this.$axios.post(\"/User/register\", this.newUser).then((res) => {\n        if (res.data.code == 200) {\n          //后端返回状态码200意为成功\n          this.$message({\n            message: \"Register success!\",\n            type: \"success\",\n          });\n          this.registerBtn(); //调用方法转到登录面板\n          //帮助用户填好登录信息\n          this.user.username = this.newUser.username;\n          this.user.password = this.newUser.password;\n        } else {\n          //注册失败\n          this.$message.error(\"Register fail! Exist same username\");\n        }\n      });\n    },\n  },\n  // created() {\n  //   console.log(\"登录页token值：\", localStorage.getItem(\"token\"));\n  // },\n};\n</script>\n\n<style scoped>\n.login {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.index {\n  width: 1000px;\n  height: 500px;\n  display: flex;\n  justify-content: center;\n}\n.picture {\n  width: calc(100% - 400px);\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.title {\n  text-align: center;\n  font-size: 36px;\n  user-select: none;\n  letter-spacing: 2px;\n}\n.title-small {\n  text-align: center;\n  font-size: 30px;\n  user-select: none;\n  letter-spacing: 2px;\n  margin: 10px 0;\n}\n.picture img {\n  height: 80%;\n}\n.menu {\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n/* 卡片 */\n.el-card {\n  width: 60px;\n}\n.text {\n  font-size: 14px;\n}\n.item {\n  margin-bottom: 18px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card {\n  width: 100%;\n}\n/* ---结束卡片---- */\n.option {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  font-size: small;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3c63ccf1&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3c63ccf1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c63ccf1\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/shopping.a6799dc9.png\";"],"sourceRoot":""}